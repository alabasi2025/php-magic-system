# ๐งฌ Gene: INTERMEDIATE_ACCOUNTS

**ุงูุฅุตุฏุงุฑ:** 1.0.0  
**ุงูุชุงุฑูุฎ:** 2025-11-27  
**ุงูุญุงูุฉ:** ููุฏ ุงูุชูููุฐ โณ  
**ุงููุคูู:** Manus AI

---

## ๐ ุงูููุฏูุฉ

ูุฐุง ุงูุฌูู (Gene) ููุซู ููุฑุฉ ูุจุชูุฑุฉ ูุฑูุฏุฉ ูู ููุนูุง ูู ุนุงูู ุงูุฃูุธูุฉ ุงููุญุงุณุจูุฉ. ุฅูู ููุณ ูุฌุฑุฏ ููุฒุฉ ุฅุถุงููุฉุ ุจู ูู **ููููู ูุญุงุณุจู ุฌุฏูุฏ** ูููุฑ ุทุจูุฉ ุฅุถุงููุฉ ูู ุงูุฑูุงุจุฉ ูุงูุชุญูู ูููุนุงููุงุช ุงููุงููุฉ.

> **ููุงุญุธุฉ:** ูุง ููุฌุฏ ูุธุงู ูุญุงุณุจู ุขุฎุฑ ูู ุงูุนุงูู ูุทุจู ูุฐุง ุงูููููู ุจูุฐู ุงูุทุฑููุฉ. ูุฐุง ูู ุงูุงุจุชูุงุฑ ุงูุญูููู.

---

## ๐ก ุงูููุฑุฉ ุงูุฃุณุงุณูุฉ

### ุงููุดููุฉ:

ูู ุงูุฃูุธูุฉ ุงููุญุงุณุจูุฉ ุงูุชูููุฏูุฉุ ุนูุฏูุง ูุชู ุชุณุฌูู ุนูููุฉ ูุงููุฉ (ูุซู ูุจุถ ุฃู ุตุฑู) ุนูู ุญุณุงุจ ูุนููุ ุชุฐูุจ ุงูุนูููุฉ ูุจุงุดุฑุฉ ุฅูู ุฐูู ุงูุญุณุงุจ. ูุฐุง ูุนูู:

1.  **ูุง ุชูุฌุฏ ูุฑุญูุฉ ูุฑุงุฌุนุฉ ุฅูุฒุงููุฉ** ูุจู ุชุฑุญูู ุงูุนูููุฉ.
2.  **ุตุนูุจุฉ ูู ุชุชุจุน ุงูุนูููุงุช ุงููุนููุฉ** ุงูุชู ูู ูุชู ุงูุชุญูู ูููุง ุจุนุฏ.
3.  **ุงุญุชูุงู ุญุฏูุซ ุฃุฎุทุงุก** ูู ุงููุทุงุจูุฉ ุจูู ุนูููุงุช ุงููุจุถ ูุงูุตุฑู.

### ุงูุญู: ุงูุญุณุงุจุงุช ุงููุณูุทุฉ

ุงูููุฑุฉ ูู ุฅูุดุงุก **ุญุณุงุจ ูุณูุท (Intermediate Account)** ุงุฎุชูุงุฑู ูุฃู ุญุณุงุจ ูู ุฏููู ุงูุญุณุงุจุงุช. ุนูุฏูุง ูุชู ุชูุนูู ูุฐุง ุงูุญุณุงุจ ุงููุณูุท:

1.  **ุฌููุน ุงูุนูููุงุช ุงููุงููุฉ** (ูุจุถ ุฃู ุตุฑู) ุนูู ุงูุญุณุงุจ ุงูุฑุฆูุณู **ุชุฐูุจ ุฃููุงู ุฅูู ุงูุญุณุงุจ ุงููุณูุท**.
2.  **ูููู ุงููุญุงุณุจ ุจูุฑุงุฌุนุฉ** ูุฐู ุงูุนูููุงุช ูู ุงูุญุณุงุจ ุงููุณูุท.
3.  **ูููู ุงููุญุงุณุจ ุจู "ุฑุจุท" (Link)** ูู ุนูููุฉ ูุจุถ ุจุนูููุฉ ุตุฑู ููุงุจูุฉ ููุง ุจููุณ ุงููููุฉ (ุฃู ุฌุฒุก ูููุง).
4.  **ุนูุฏ ุงูุชูุงู ุงูุฑุจุท**ุ ูุตุจุญ ุฑุตูุฏ ุงูุญุณุงุจ ุงููุณูุท ุตูุฑุงูุ ููุง ูุนูู ุฃู ุฌููุน ุงูุนูููุงุช ุชู ุงูุชุญูู ูููุง ููุทุงุจูุชูุง.

---

## ๐ฏ ุงููุงุนุฏุฉ ุงูุฐูุจูุฉ

> **ุงูุฑุตูุฏ ุงูููุงุฆู ููุญุณุงุจ ุงููุณูุท ูุฌุจ ุฃู ูููู ุฏุงุฆูุงู ุตูุฑุงู.**

ูุฐู ูู ุงููุงุนุฏุฉ ุงูุฃุณุงุณูุฉ ุงูุชู ูููู ุนูููุง ุงููุธุงู. ุฅุฐุง ูุงู ุงูุฑุตูุฏ ุบูุฑ ุตูุฑุ ููุฐุง ูุนูู ุฃู ููุงู ุนูููุงุช ูุนููุฉ ูู ูุชู ุฑุจุทูุง ุจุนุฏ.

---

## ๐ ูุซุงู ุนููู

ูููุชุฑุถ ุฃู ูุฏููุง ุญุณุงุจ "ุงูุจูู ุงูุฃููู - ุญุณุงุจ ุฌุงุฑู" ููุฑูุฏ ุชูุนูู ุญุณุงุจ ูุณูุท ูู.

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุงูุญุณุงุจ ุงููุณูุท

- **ุงูุญุณุงุจ ุงูุฑุฆูุณู:** ุงูุจูู ุงูุฃููู - ุญุณุงุจ ุฌุงุฑู (ุฑูู 1010101)
- **ุงูุญุณุงุจ ุงููุณูุท 1:** ุงูุจูู ุงูุฃููู - ูุณูุท (ุฑูู 1010199)

### ุงูุฎุทูุฉ 2: ุชุณุฌูู ุงูุนูููุงุช

| ุงูุชุงุฑูุฎ | ุงูููุน | ุงููุจูุบ | ุงููุตู | ุงูุญุณุงุจ |
| :--- | :--- | :--- | :--- | :--- |
| 2025-01-01 | ูุจุถ | 10,000 | ุฅูุฏุงุน ููุฏู | ูุณูุท |
| 2025-01-02 | ูุจุถ | 5,000 | ุชุญููู ูู ุนููู | ูุณูุท |
| 2025-01-03 | ุตุฑู | 7,000 | ุณุญุจ ููุฏู | ูุณูุท |
| 2025-01-04 | ุตุฑู | 3,000 | ุฏูุน ูููุฑุฏ | ูุณูุท |

**ุงูุฑุตูุฏ ุงูุญุงูู:** 10,000 + 5,000 - 7,000 - 3,000 = **5,000 ุฏุงุฆู**

### ุงูุฎุทูุฉ 3: ุฑุจุท ุงูุนูููุงุช

ุงููุญุงุณุจ ูููู ุจุฑุจุท ุงูุนูููุงุช ูุงูุชุงูู:

| ุนูููุฉ ุงููุจุถ | ุนูููุฉ ุงูุตุฑู | ุงููุจูุบ ุงููุฑุชุจุท |
| :--- | :--- | :--- |
| ุฅูุฏุงุน ููุฏู (10,000) | ุณุญุจ ููุฏู (7,000) | 7,000 |
| ุฅูุฏุงุน ููุฏู (10,000) | ุฏูุน ูููุฑุฏ (3,000) | 3,000 |
| ุชุญููู ูู ุนููู (5,000) | - | 0 (ูุนูู) |

**ุงููุชูุฌุฉ:**
- ุนูููุฉ "ุฅูุฏุงุน ููุฏู" ุชู ุฑุจุทูุง ุจุงููุงูู (10,000 = 7,000 + 3,000) โ
- ุนูููุฉ "ุณุญุจ ููุฏู" ุชู ุฑุจุทูุง ุจุงููุงูู (7,000) โ
- ุนูููุฉ "ุฏูุน ูููุฑุฏ" ุชู ุฑุจุทูุง ุจุงููุงูู (3,000) โ
- ุนูููุฉ "ุชุญููู ูู ุนููู" **ูุนููุฉ** (5,000) โ๏ธ

**ุงูุฑุตูุฏ ุงููุชุจูู:** 5,000 ุฏุงุฆู (ูุนูู)

---

## ๐๏ธ ุงูุจููุฉ ุงููุนูุงุฑูุฉ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช (3 ุฌุฏุงูู):

1.  **intermediate_accounts:** ูุญุชูู ุนูู ุฅุนุฏุงุฏุงุช ุงูุญุณุงุจุงุช ุงููุณูุทุฉ.
2.  **intermediate_transactions:** ูุญุชูู ุนูู ุฌููุน ุงูุนูููุงุช (ูุจุถ/ุตุฑู) ูู ุงูุญุณุงุจุงุช ุงููุณูุทุฉ.
3.  **transaction_links:** ูุญุชูู ุนูู ุฑูุงุจุท ุงููุทุงุจูุฉ ุจูู ุนูููุงุช ุงููุจุถ ูุงูุตุฑู.

### ุงูููุงุฐุฌ (Models):

1.  **IntermediateAccount:** ูููุฐุฌ ุงูุญุณุงุจ ุงููุณูุท.
2.  **IntermediateTransaction:** ูููุฐุฌ ุงูุนูููุฉ.
3.  **TransactionLink:** ูููุฐุฌ ุงูุฑุจุท.

### ุงูุฎุฏูุงุช (Services):

1.  **IntermediateAccountService:** ุฅุฏุงุฑุฉ ุงูุญุณุงุจุงุช ุงููุณูุทุฉ.
2.  **TransactionService:** ุฅุฏุงุฑุฉ ุงูุนูููุงุช ูุงูุฑุจุท.
3.  **ReportService:** ุชูููุฏ ุงูุชูุงุฑูุฑ.

### ูุญุฏุงุช ุงูุชุญูู (Controllers):

1.  **IntermediateAccountController:** APIs ูุฅุฏุงุฑุฉ ุงูุญุณุงุจุงุช ุงููุณูุทุฉ.
2.  **TransactionController:** APIs ูุฅุฏุงุฑุฉ ุงูุนูููุงุช ูุงูุฑุจุท.
3.  **ReportController:** APIs ููุชูุงุฑูุฑ.

---

## ๐ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. ุฅุฏุงุฑุฉ ุงูุญุณุงุจุงุช ุงููุณูุทุฉ

- ุฅูุดุงุก ุญุณุงุจ ูุณูุท ูุฃู ุญุณุงุจ ุฑุฆูุณู
- ุฏุนู ุญุชู 3 ุญุณุงุจุงุช ูุณูุทุฉ ูููุณ ุงูุญุณุงุจ ุงูุฑุฆูุณู
- ุชูุนูู/ุชุนุทูู ุงูุญุณุงุจุงุช ุงููุณูุทุฉ
- ุญุฐู ุงูุญุณุงุจุงุช ุงููุณูุทุฉ (ููุท ุฅุฐุง ูุงู ุงูุฑุตูุฏ = 0)

### 2. ุฅุฏุงุฑุฉ ุงูุนูููุงุช

- ุชุณุฌูู ุนูููุงุช ุงููุจุถ ูุงูุตุฑู
- ุชุชุจุน ุญุงูุฉ ูู ุนูููุฉ (ูุนููุฉุ ููุชููุฉุ ููุบุงุฉ)
- ุญุณุงุจ ุงููุจูุบ ุงููุชุงุญ ููุฑุจุท ููู ุนูููุฉ
- ุฅูุบุงุก ุงูุนูููุงุช (ููุท ุฅุฐุง ูู ูุชู ุฑุจุทูุง)

### 3. ุงูุฑุจุท (Linking)

- ุฑุจุท ูุฏูู: ุงููุญุงุณุจ ูุฎุชุงุฑ ุงูุนูููุงุช ููุฑุจุทูุง
- ุฑุจุท ุชููุงุฆู: ุงููุธุงู ูุฑุจุท ุงูุนูููุงุช ุชููุงุฆูุงู ุจูุงุกู ุนูู ุงูุชุทุงุจู
- ุฏุนู ุงูุฑุจุท ุงูุฌุฒุฆู (1:N, N:1, N:M)
- ูู ุงูุฑุจุท

### 4. ุงูุชูุงุฑูุฑ

- ุชูุฑูุฑ ุงูุนูููุงุช ุงููุนููุฉ
- ุชูุฑูุฑ ุงูุฃุฑุตุฏุฉ
- ุชูุฑูุฑ ุงูุญุฑูุฉ
- ุชูุฑูุฑ ุงูุฑุจุท
- ุชูุฑูุฑ ุงูุฃุฏุงุก
- ุชูุฑูุฑ ุงูุฃุนูุงุฑ (Aging)

---

## ๐ง ุฏููู ุงูุงุณุชุฎุฏุงู

### ุฅูุดุงุก ุญุณุงุจ ูุณูุท

```php
POST /api/genes/intermediate-accounts/accounts

{
  "main_account_id": 1010101,
  "intermediate_account_1_id": 1010199,
  "notes": "ุญุณุงุจ ูุณูุท ููุจูู ุงูุฃููู"
}
```

### ุชุณุฌูู ุนูููุฉ

```php
POST /api/genes/intermediate-accounts/transactions

{
  "intermediate_account_id": 1,
  "type": "receipt",
  "amount": 10000,
  "description": "ุฅูุฏุงุน ููุฏู",
  "reference_number": "DEP-2025-001"
}
```

### ุฑุจุท ุนูููุงุช

```php
POST /api/genes/intermediate-accounts/transactions/link

{
  "links": [
    {
      "source_id": 1,
      "target_id": 3,
      "amount": 7000
    },
    {
      "source_id": 1,
      "target_id": 4,
      "amount": 3000
    }
  ],
  "notes": "ุฑุจุท ุนูููุงุช ุงูุจูู ุงูุฃููู"
}
```

### ุฑุจุท ุชููุงุฆู

```php
POST /api/genes/intermediate-accounts/transactions/auto-link

{
  "intermediate_account_id": 1
}
```

---

## ๐ ุงูุชูุงุฑูุฑ

### ุชูุฑูุฑ ุงูุนูููุงุช ุงููุนููุฉ

```php
GET /api/genes/intermediate-accounts/reports/unlinked-transactions?intermediate_account_id=1
```

### ุชูุฑูุฑ ุงูุฃุฑุตุฏุฉ

```php
GET /api/genes/intermediate-accounts/reports/balance
```

### ุชูุฑูุฑ ุงูุญุฑูุฉ

```php
GET /api/genes/intermediate-accounts/reports/movement?intermediate_account_id=1&date_from=2025-01-01&date_to=2025-01-31
```

---

## ๐ ุฏููู ุงููุทูุฑ

### ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ

1.  ุฃุถู ุงูุฏุงูุฉ ูู Service ุงูููุงุณุจ
2.  ุฃุถู API endpoint ูู Controller
3.  ุณุฌู ุงููุณุงุฑ ูู `routes.php`
4.  ุฃุถู ุงูุชูุซูู ูู README

### ุงุฎุชุจุงุฑ ุงูุฌูู

```bash
php artisan test --filter=IntermediateAccountsTest
```

### ูุดุฑ ุงูุฌูู

```bash
php artisan migrate
php artisan db:seed --class=IntermediateAccountsSeeder
```

---

## ๐ ุฎุงุฑุทุฉ ุงูุทุฑูู

### ุงูุฅุตุฏุงุฑ 1.0 (ุงูุญุงูู)

- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ Models
- โ Services
- โ Controllers
- โณ Views (ููุฏ ุงูุชูููุฐ)
- โณ ุงูุชูุงุฑูุฑ (ููุฏ ุงูุชูููุฐ)

### ุงูุฅุตุฏุงุฑ 1.1 (ุงููุณุชูุจู)

- ุงูุฑุจุท ุงูุชููุงุฆู ุงูุฐูู ุจุงุณุชุฎุฏุงู AI
- ุฏุนู ุงูุนููุงุช ุงููุชุนุฏุฏุฉ
- ุชูุงูู ูุน ูุธุงู ุงูููุงููุงุช
- ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ ููุนูููุงุช ุงููุนููุฉ

### ุงูุฅุตุฏุงุฑ 2.0 (ุงููุณุชูุจู ุงูุจุนูุฏ)

- ููู ุงูุฌูู ุฅูู ูุธุงู ูุญุงุณุจู ูุณุชูู
- ุฏุนู blockchain ููุชุฏููู
- ุชูุงูู ูุน ุงูุจููู (Open Banking)

---

## ๐ ุงูููุงุญุธุงุช ุงููุงูุฉ

1.  **ูุฐุง ุงูุฌูู ุงุฎุชูุงุฑู:** ูููู ุชูุนููู ููุท ููุญุณุงุจุงุช ุงูุชู ุชุญุชุงุฌ ุฅูู ุฑูุงุจุฉ ุฅุถุงููุฉ.
2.  **ูุง ูุคุซุฑ ุนูู ุงูุญุณุงุจุงุช ุงูุนุงุฏูุฉ:** ุงูุญุณุงุจุงุช ุงูุชู ูุง ุชุญุชูู ุนูู ุญุณุงุจ ูุณูุท ุชุนูู ุจุดูู ุทุจูุนู.
3.  **ูููู ูููู:** ูุฐุง ุงูุฌูู ูุตูู ููููู ูุณุชููุงูุ ููููู ูููู ุฅูู ูุธุงู ุขุฎุฑ ุจุณูููุฉ.
4.  **ููุซู ุจุงููุงูู:** ูู ุณุทุฑ ููุฏ ูุญุชูู ุนูู ุดุฑุญ ููุตู.

---

## ๐ค ุงููุณุงููุฉ

ูุฐุง ุงูุฌูู ูู ุฌุฒุก ูู ูุดุฑูุน ููุชูุญ ุงููุตุฏุฑ. ุฅุฐุง ูุงู ูุฏูู ุฃููุงุฑ ุฃู ุชุญุณููุงุชุ ูุฑุฌู:

1.  ูุชุญ Issue ูู GitHub
2.  ุฅุฑุณุงู Pull Request
3.  ุงูุชูุงุตู ูุน ุงููุฑูู

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงูุฌูู ูุฑุฎุต ุชุญุช [MIT License](LICENSE).

---

**ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ:** 2025-11-27  
**ุงูุฅุตุฏุงุฑ:** 1.0.0  
**ุงููุคูู:** Manus AI
