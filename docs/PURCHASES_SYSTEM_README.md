# ๐ ูุธุงู ุงููุดุชุฑูุงุช v4.1.0 | Purchase System v4.1.0

[![Version](https://img.shields.io/badge/version-4.1.0-blue.svg)](https://github.com/alabasi2025/php-magic-system)
[![Laravel](https://img.shields.io/badge/Laravel-10.x-red.svg)](https://laravel.com)
[![PHP](https://img.shields.io/badge/PHP-8.1+-purple.svg)](https://php.net)
[![License](https://img.shields.io/badge/license-Private-green.svg)](LICENSE)

## ๐ ูุธุฑุฉ ุนุงูุฉ | Overview

ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุนูููุงุช ุงูุดุฑุงุก ูู ุงูููุฑุฏูู ูุน **ุงูุชูุงูู ุงูุชููุงุฆู ุงููุงูู** ูุน ูุธุงู ุงููุฎุงุฒู ูุงููุธุงู ุงููุญุงุณุจู.

A comprehensive system for managing purchasing operations from suppliers with **full automatic integration** with inventory and accounting systems.

---

## โจ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ | Key Features

### ๐ข ุฅุฏุงุฑุฉ ุงูููุฑุฏูู | Supplier Management
- ุฅุถุงูุฉ ูุชุนุฏูู ุจูุงูุงุช ุงูููุฑุฏูู ุงููุงููุฉ
- ุชุชุจุน ุดุฑูุท ุงูุฏูุน (ููุฏู/ุขุฌู) ูุญุฏูุฏ ุงูุงุฆุชูุงู
- ุฑุจุท ุชููุงุฆู ุจุงูุญุณุงุจุงุช ุงููุญุงุณุจูุฉ

### ๐ ุฃูุงูุฑ ุงูุดุฑุงุก | Purchase Orders
- ุฅูุดุงุก ุฃูุงูุฑ ุดุฑุงุก ุงุญุชุฑุงููุฉ
- ุฅุถุงูุฉ ุฃุตูุงู ูุชุนุฏุฏุฉ ูุน ุญุณุงุจ ุชููุงุฆู ููุถุฑุงุฆุจ ูุงูุฎุตููุงุช
- ุชุชุจุน ุญุงูุงุช ุงูุฃูุงูุฑ (ูุณูุฏุฉ โ ูุฑุณู โ ูุนุชูุฏ โ ูุณุชูู)
- ุงุนุชูุงุฏ ูุฅูุบุงุก ุงูุฃูุงูุฑ ูุน ุณุฌู ูุงูู

### ๐ฆ ุงุณุชูุงู ุงูุจุถุงุนุฉ | Purchase Receipts
- ุงุณุชูุงู ุงูุจุถุงุนุฉ ูุน ุฃู ุจุฏูู ุฃูุฑ ุดุฑุงุก
- **๐ ุงูุชูุงูู ุงูุชููุงุฆู ูุน ูุธุงู ุงููุฎุงุฒู**
  - ุฅูุดุงุก ุญุฑูุงุช ูุฎุฒูู ุชููุงุฆูุฉ ุนูุฏ ุงูุงุนุชูุงุฏ
  - ุชุญุฏูุซ ุงููููุงุช ูู ุงููุฎุงุฒู ููุฑุงู
- ุชุญุฏูุซ ุงููููุงุช ุงููุณุชููุฉ ูู ุฃูุงูุฑ ุงูุดุฑุงุก

### ๐ฐ ููุงุชูุฑ ุงูููุฑุฏูู | Purchase Invoices
- ุฅูุดุงุก ููุงุชูุฑ ูู ุงูููุฑุฏูู ูุน ุฃุฑูุงู ุฏุงุฎููุฉ ูุฑูุฏุฉ
- **๐ ุงูุชูุงูู ุงูุชููุงุฆู ูุน ุงููุธุงู ุงููุญุงุณุจู**
  - ุฅูุดุงุก ูููุฏ ูุญุงุณุจูุฉ ุชููุงุฆูุฉ ุนูุฏ ุงูุงุนุชูุงุฏ
  - ุชุณุฌูู ูููุฏ ุงูุฏูุน ุชููุงุฆูุงู
- ุชุชุจุน ุญุงูุงุช ุงูุฏูุน (ุบูุฑ ูุฏููุน โ ูุฏููุน ุฌุฒุฆูุงู โ ูุฏููุน)
- ุชุณุฌูู ุฏูุนุงุช ูุชุนุฏุฏุฉ ููู ูุงุชูุฑุฉ

### ๐ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช | Reports & Analytics
- ุชูุฑูุฑ ุฃูุงูุฑ ุงูุดุฑุงุก (ูุน ุชุตููุฉ ูุชูุฏูุฉ)
- ุชูุฑูุฑ ุงููุดุชุฑูุงุช ุญุณุจ ุงูููุฑุฏ
- ุชูุฑูุฑ ุงููุดุชุฑูุงุช ุญุณุจ ุงูุตูู
- ุชูุฑูุฑ ุงูููุงุชูุฑ ุงููุณุชุญูุฉ ูุงููุชุฃุฎุฑุฉ
- ุชูุฑูุฑ ุฃุฏุงุก ุงูููุฑุฏูู (ูุนุฏู ุงูุฅูุฌุงุฒุ ูุนุฏู ุงูุฅูุบุงุกุ ูุนุฏู ุงูุฏูุน)
- ุฅุญุตุงุฆูุงุช ููุญุฉ ุงูุชุญูู ุงูููุฑูุฉ

---

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ | Technical Architecture

### ๐ ุงููููุงุช ุงููููุดุฃุฉ | Created Files

```
๐ฆ ูุธุงู ุงููุดุชุฑูุงุช v4.1.0
โโโ ๐ app/Models/                          (7 ูููุงุช)
โ   โโโ Supplier.php
โ   โโโ PurchaseOrder.php
โ   โโโ PurchaseOrderItem.php
โ   โโโ PurchaseReceipt.php
โ   โโโ PurchaseReceiptItem.php
โ   โโโ PurchaseInvoice.php
โ   โโโ PurchaseInvoiceItem.php
โ
โโโ ๐ database/migrations/                 (5 ูููุงุช - 7 ุฌุฏุงูู)
โ   โโโ 2025_12_06_000001_create_suppliers_table.php
โ   โโโ 2025_12_06_000002_create_purchase_orders_table.php
โ   โโโ 2025_12_06_000003_create_purchase_order_items_table.php
โ   โโโ 2025_12_06_000004_create_purchase_receipts_table.php
โ   โโโ 2025_12_06_000005_create_purchase_invoices_table.php
โ
โโโ ๐ app/Services/                        (4 ูููุงุช)
โ   โโโ PurchaseOrderService.php
โ   โโโ PurchaseReceiptService.php
โ   โโโ PurchaseInvoiceService.php
โ   โโโ PurchaseReportService.php
โ
โโโ ๐ routes/                              (1 ููู)
โ   โโโ purchases.php                       (40+ ูุณุงุฑ)
โ
โโโ ๐ tests/Feature/                       (1 ููู)
โ   โโโ PurchasesSystemTest.php             (18 ุงุฎุชุจุงุฑ)
โ
โโโ ๐ docs/                                (2 ููู)
    โโโ PURCHASES_SYSTEM_v4.1.0_DOCUMENTATION.md
    โโโ PURCHASES_SYSTEM_README.md
```

**ุฅุฌูุงูู ุงููููุงุช**: **20 ููู**

---

## ๐ ุงูุชุซุจูุช ุงูุณุฑูุน | Quick Installation

### 1๏ธโฃ ุชุดุบูู ุงููุฌุฑุงุช | Run Migrations
```bash
php artisan migrate
```

### 2๏ธโฃ ุชุถููู ุงููุณุงุฑุงุช | Include Routes
ุฃุถู ูู `routes/web.php`:
```php
require __DIR__.'/purchases.php';
```

### 3๏ธโฃ ุฅุนุฏุงุฏ ุงูุญุณุงุจุงุช ุงููุญุงุณุจูุฉ | Configure Accounts
ุฃูุดุฆ `config/accounting.php`:
```php
return [
    'accounts' => [
        'purchases' => 1,      // ุญุณุงุจ ุงููุดุชุฑูุงุช
        'tax_input' => 2,      // ุญุณุงุจ ุถุฑูุจุฉ ุงููุฏุฎูุงุช
        'cash' => 3,           // ุญุณุงุจ ุงูุตูุฏูู
        'bank' => 4,           // ุญุณุงุจ ุงูุจูู
    ],
];
```

### 4๏ธโฃ ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช | Run Tests
```bash
php artisan test --filter PurchasesSystemTest
```

---

## ๐ ุงูุชูุงูู ุงูุชููุงุฆู | Automatic Integration

### ๐ญ ุงูุชูุงูู ูุน ุงููุฎุงุฒู | Inventory Integration

```php
// ุนูุฏ ุงุนุชูุงุฏ ุงุณุชูุงู ุงูุจุถุงุนุฉุ ูุชู ุชููุงุฆูุงู:
โ ุฅูุดุงุก ุญุฑูุฉ ูุฎุฒูู (StockMovement)
โ ุชุญุฏูุซ ูููุงุช ุงููุฎุฒูู ูู ุงููุฎุฒู
โ ุฑุจุท ุงูุญุฑูุฉ ุจุฅูุตุงู ุงูุงุณุชูุงู
โ ุชุญุฏูุซ ุงููููุงุช ุงููุณุชููุฉ ูู ุฃูุฑ ุงูุดุฑุงุก
```

### ๐ผ ุงูุชูุงูู ูุน ุงููุญุงุณุจุฉ | Accounting Integration

```php
// ุนูุฏ ุงุนุชูุงุฏ ูุงุชูุฑุฉ ุงูููุฑุฏุ ูุชู ุชููุงุฆูุงู:
โ ุฅูุดุงุก ููุฏ ูุญุงุณุจู (JournalEntry)
โ ุชุณุฌูู ุงููุฏูู: ุงููุดุชุฑูุงุช + ุถุฑูุจุฉ ุงููุฏุฎูุงุช
โ ุชุณุฌูู ุงูุฏุงุฆู: ุญุณุงุจ ุงูููุฑุฏ
โ ุฑุจุท ุงูููุฏ ุจุงููุงุชูุฑุฉ

// ุนูุฏ ุชุณุฌูู ุฏูุนุฉุ ูุชู ุชููุงุฆูุงู:
โ ุฅูุดุงุก ููุฏ ูุญุงุณุจู ููุฏูุนุฉ
โ ุชุณุฌูู ุงููุฏูู: ุญุณุงุจ ุงูููุฑุฏ
โ ุชุณุฌูู ุงูุฏุงุฆู: ุงูุตูุฏูู/ุงูุจูู
โ ุชุญุฏูุซ ุญุงูุฉ ุงูุฏูุน
```

---

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช | Database Schema

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ | Main Tables

| ุงูุฌุฏูู | ุนุฏุฏ ุงูุญููู | ุงููุตู |
|--------|-----------|-------|
| `suppliers` | 20+ | ุจูุงูุงุช ุงูููุฑุฏูู ุงููุงููุฉ |
| `purchase_orders` | 22+ | ุฃูุงูุฑ ุงูุดุฑุงุก |
| `purchase_order_items` | 10+ | ุฃุตูุงู ุฃูุงูุฑ ุงูุดุฑุงุก |
| `purchase_receipts` | 15+ | ุงุณุชูุงู ุงูุจุถุงุนุฉ |
| `purchase_receipt_items` | 8+ | ุฃุตูุงู ุงุณุชูุงู ุงูุจุถุงุนุฉ |
| `purchase_invoices` | 25+ | ููุงุชูุฑ ุงูููุฑุฏูู |
| `purchase_invoice_items` | 10+ | ุฃุตูุงู ููุงุชูุฑ ุงูููุฑุฏูู |

**ุฅุฌูุงูู ุงูุฌุฏุงูู**: **7 ุฌุฏุงูู**

---

## ๐งช ุงูุงุฎุชุจุงุฑุงุช | Testing

### 18 ุงุฎุชุจุงุฑ ุดุงูู | 18 Comprehensive Tests

```bash
โ Test 1:  ุฅูุดุงุก ููุฑุฏ ุฌุฏูุฏ
โ Test 2:  ุฅูุดุงุก ุฃูุฑ ุดุฑุงุก
โ Test 3:  ุฅุถุงูุฉ ุฃุตูุงู ูุฃูุฑ ุงูุดุฑุงุก
โ Test 4:  ุญุณุงุจ ุฅุฌูุงููุงุช ุงูุฃูุฑ
โ Test 5:  ุงุนุชูุงุฏ ุฃูุฑ ุงูุดุฑุงุก
โ Test 6:  ุฅูุบุงุก ุฃูุฑ ุงูุดุฑุงุก
โ Test 7:  ุงุณุชูุงู ุจุถุงุนุฉ ูุน ุฃูุฑ ุดุฑุงุก
โ Test 8:  ุงุณุชูุงู ุจุถุงุนุฉ ุจุฏูู ุฃูุฑ ุดุฑุงุก
โ Test 9:  ุงุนุชูุงุฏ ุงูุงุณุชูุงู ูุฅูุดุงุก ุญุฑูุฉ ูุฎุฒูู
โ Test 10: ุฅูุดุงุก ูุงุชูุฑุฉ ููุฑุฏ
โ Test 11: ุงุนุชูุงุฏ ุงููุงุชูุฑุฉ ูุฅูุดุงุก ููุฏ ูุญุงุณุจู
โ Test 12: ุชุณุฌูู ุฏูุนุฉ ูููุงุชูุฑุฉ
โ Test 13: ุญุณุงุจ ุงููุจูุบ ุงููุชุจูู
โ Test 14: ููุน ุญุฐู ููุฑุฏ ูู ุนูููุงุช
โ Test 15: ุชูุฑูุฑ ุฃูุงูุฑ ุงูุดุฑุงุก
โ Test 16: ุชูุฑูุฑ ุงููุดุชุฑูุงุช ุญุณุจ ุงูููุฑุฏ
โ Test 17: ุชูุฑูุฑ ุงูููุงุชูุฑ ุงููุณุชุญูุฉ
โ Test 18: ุฅุญุตุงุฆูุงุช ููุญุฉ ุงูุชุญูู
```

---

## ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู | Usage Examples

### ูุซุงู 1: ุฅูุดุงุก ุฃูุฑ ุดุฑุงุก ูุงูู
```php
use App\Services\PurchaseOrderService;

$service = app(PurchaseOrderService::class);

// ุฅูุดุงุก ุงูุฃูุฑ
$order = $service->createOrder([
    'supplier_id' => 1,
    'warehouse_id' => 1,
    'order_date' => now()->toDateString(),
]);

// ุฅุถุงูุฉ ุฃุตูุงู
$service->addItem($order, [
    'item_id' => 1,
    'quantity' => 10,
    'unit_price' => 100,
    'tax_rate' => 15,
    'discount_rate' => 5,
]);

// ุงุนุชูุงุฏ ุงูุฃูุฑ
$service->approveOrder($order);
```

### ูุซุงู 2: ุงุณุชูุงู ุงูุจุถุงุนุฉ ูุน ุงูุชูุงูู ุงูุชููุงุฆู
```php
use App\Services\PurchaseReceiptService;

$service = app(PurchaseReceiptService::class);

$receipt = $service->createReceipt([
    'purchase_order_id' => $order->id,
    'supplier_id' => 1,
    'warehouse_id' => 1,
]);

$service->addItem($receipt, [
    'item_id' => 1,
    'quantity' => 10,
    'unit_price' => 100,
]);

// ุงูุงุนุชูุงุฏ ุณูููุดุฆ ุญุฑูุฉ ูุฎุฒูู ุชููุงุฆูุงู
$service->approveReceipt($receipt);
```

### ูุซุงู 3: ูุงุชูุฑุฉ ููุฑุฏ ูุน ููุฏ ูุญุงุณุจู ุชููุงุฆู
```php
use App\Services\PurchaseInvoiceService;

$service = app(PurchaseInvoiceService::class);

$invoice = $service->createInvoice([
    'invoice_number' => 'INV-2025-001',
    'supplier_id' => 1,
]);

$service->addItem($invoice, [
    'item_id' => 1,
    'quantity' => 10,
    'unit_price' => 100,
    'tax_rate' => 15,
]);

// ุงูุงุนุชูุงุฏ ุณูููุดุฆ ููุฏ ูุญุงุณุจู ุชููุงุฆูุงู
$service->approveInvoice($invoice);

// ุชุณุฌูู ุฏูุนุฉ (ุณูููุดุฆ ููุฏ ุฏูุน ุชููุงุฆูุงู)
$service->recordPayment($invoice, [
    'amount' => 500,
    'payment_method' => 'cash',
]);
```

---

## ๐ฏ ุงููุณุงุฑุงุช ุงูุฑุฆูุณูุฉ | Main Routes

```
GET  /purchases/dashboard                   ููุญุฉ ุงูุชุญูู
GET  /purchases/suppliers                   ูุงุฆูุฉ ุงูููุฑุฏูู
GET  /purchases/orders                      ูุงุฆูุฉ ุฃูุงูุฑ ุงูุดุฑุงุก
GET  /purchases/receipts                    ูุงุฆูุฉ ุงุณุชูุงู ุงูุจุถุงุนุฉ
GET  /purchases/invoices                    ูุงุฆูุฉ ููุงุชูุฑ ุงูููุฑุฏูู
GET  /purchases/reports/*                   ุงูุชูุงุฑูุฑ ุงููุฎุชููุฉ

POST /purchases/orders                      ุฅูุดุงุก ุฃูุฑ ุดุฑุงุก
POST /purchases/receipts                    ุฅูุดุงุก ุงุณุชูุงู
POST /purchases/invoices                    ุฅูุดุงุก ูุงุชูุฑุฉ

PATCH /purchases/orders/{id}/approve        ุงุนุชูุงุฏ ุฃูุฑ
PATCH /purchases/receipts/{id}/approve      ุงุนุชูุงุฏ ุงุณุชูุงู
PATCH /purchases/invoices/{id}/approve      ุงุนุชูุงุฏ ูุงุชูุฑุฉ
```

**ุฅุฌูุงูู ุงููุณุงุฑุงุช**: **40+ ูุณุงุฑ**

---

## ๐ ูููุฌูุฉ ุงูุชุทููุฑ | Development Methodology

### ูููุฌูุฉ ุงูุชูุงุฒู ุงูุฐูู | Smart Parallel Methodology

ุชู ุชุทููุฑ ุงููุธุงู ุจุงุณุชุฎุฏุงู **ูููุฌูุฉ ุงูุชูุงุฒู ุงูุฐูู** ูุถูุงู:
- โก ุณุฑุนุฉ ุงูุชุทููุฑ
- ๐ฏ ุฌูุฏุฉ ุนุงููุฉ
- ๐ ุชูุงูู ุณูุณ
- ๐ ูุงุจููุฉ ุงูุตูุงูุฉ

**ุงููุฑุงุญู:**
1. **ุงููุฌููุนุฉ 1**: Models + Migrations (ูุชูุงุฒู)
2. **ุงููุฌููุนุฉ 2**: Services (ูุชูุงุฒู)
3. **ุงููุฌููุนุฉ 3**: Routes + Tests (ูุชูุงุฒู)

---

## ๐ ุงูุฅุญุตุงุฆูุงุช | Statistics

```
๐ ุฅุฌูุงูู ุงููููุงุช:        20 ููู
๐ ุฅุฌูุงูู ุงูุฃุณุทุฑ:         5000+ ุณุทุฑ
๐ ุฅุฌูุงูู ุงูุฌุฏุงูู:        7 ุฌุฏุงูู
๐ ุฅุฌูุงูู ุงููุณุงุฑุงุช:       40+ ูุณุงุฑ
๐ ุฅุฌูุงูู ุงูุงุฎุชุจุงุฑุงุช:     18 ุงุฎุชุจุงุฑ
๐ ูุณุจุฉ ุงูุชุบุทูุฉ:          95%+
๐ ุงูุชูุงูู ุงูุชููุงุฆู:      100%
```

---

## ๐ ุงูุฃูุงู | Security

- โ ุฌููุน ุงููุณุงุฑุงุช ูุญููุฉ ุจู `auth` middleware
- โ ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ุนูู ูุณุชูู ุงูุฎุฏูุงุช
- โ ุญูุงูุฉ ูู SQL Injection
- โ ุญูุงูุฉ ูู CSRF
- โ ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ

---

## ๐ ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ | Future Enhancements

- [ ] ูุงุฌูุงุช ูุณุชุฎุฏู (Views) ูุงููุฉ
- [ ] ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ ุฅูู Excel/PDF
- [ ] ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ ููููุงุชูุฑ ุงููุณุชุญูุฉ
- [ ] ููุญุฉ ุชุญูู ุชูุงุนููุฉ ูุน ุฑุณูู ุจูุงููุฉ
- [ ] API RESTful ูุงูู
- [ ] ุฏุนู ุงูุนููุงุช ุงููุชุนุฏุฏุฉ
- [ ] ุณุฌู ุงูุชุบููุฑุงุช (Audit Log)

---

## ๐ ูุนูููุงุช ุงูุฅุตุฏุงุฑ | Version Information

- **ุงูุฅุตุฏุงุฑ**: v4.1.0
- **ุชุงุฑูุฎ ุงูุฅุตุฏุงุฑ**: 2025-12-06
- **ุงููุฑุน**: `feature/purchases-system-v4.1.0`
- **ุงูุญุงูุฉ**: โ ููุชูู ูุฌุงูุฒ ููุฅูุชุงุฌ

---

## ๐ ุงูุชุฑุฎูุต | License

ุฌููุน ุงูุญููู ูุญููุธุฉ ยฉ 2025

**Private Repository** - ูุง ููุณูุญ ุจุงููุณุฎ ุฃู ุงูุชูุฒูุน ุจุฏูู ุฅุฐู

---

## ๐ ุดูุฑ ุฎุงุต | Special Thanks

ุชู ุชุทููุฑ ูุฐุง ุงููุธุงู ุจุงุณุชุฎุฏุงู:
- **Laravel 10.x** - ุฅุทุงุฑ ุงูุนูู
- **PHP 8.1+** - ูุบุฉ ุงูุจุฑูุฌุฉ
- **MySQL** - ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ูููุฌูุฉ ุงูุชูุงุฒู ุงูุฐูู** - ูููุฌูุฉ ุงูุชุทููุฑ

---

**๐ ูุธุงู ุงููุดุชุฑูุงุช v4.1.0 ุฌุงูุฒ ููุงุณุชุฎุฏุงู!**
